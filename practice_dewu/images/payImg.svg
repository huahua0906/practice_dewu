<?xml version='1.0' encoding='UTF-8' standalone='no'?><svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' contentScriptType='application/ecmascript' contentStyleType='text/css' height='503px' preserveAspectRatio='none' style='width:818px;height:503px;' version='1.1' viewBox='0 0 818 503' width='818px' zoomAndPan='magnify'><defs><filter height='300%' id='f1x2qr55ru4ncn' width='300%' x='-1' y='-1'><feGaussianBlur result='blurOut' stdDeviation='2.0'/><feColorMatrix in='blurOut' result='blurOut2' type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0'/><feOffset dx='4.0' dy='4.0' in='blurOut2' result='blurOut3'/><feBlend in='SourceGraphic' in2='blurOut3' mode='normal'/></filter></defs><g><ellipse cx='195.25' cy='20' fill='black' filter='url(#f1x2qr55ru4ncn)' rx='10' ry='10' style='stroke: none; stroke-width: 1.0;'/><polygon fill='#FEFECE' filter='url(#f1x2qr55ru4ncn)' points='144.25,50,246.25,50,258.25,62,246.25,74,144.25,74,132.25,62,144.25,50' style='stroke: #A80036; stroke-width: 1.5;'/><text fill='black' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='102' x='144.25' y='65.8081'>判断userId是否存在</text><text fill='black' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='11' x='121.25' y='59.4058'>否</text><text fill='black' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='11' x='258.25' y='59.4058'>是</text><rect fill='#FEFECE' filter='url(#f1x2qr55ru4ncn)' height='33.9688' rx='12.5' ry='12.5' style='stroke: #A80036; stroke-width: 1.5;' width='107' x='10' y='84'/><text fill='black' font-family='sans-serif' font-size='12' lengthAdjust='spacingAndGlyphs' textLength='87' x='20' y='105.1387'>userId不能为空</text><ellipse cx='63.5' cy='163.9688' fill='white' filter='url(#f1x2qr55ru4ncn)' rx='11' ry='11' style='stroke: black; stroke-width: 1.0;'/><ellipse cx='63.5' cy='163.9688' fill='black' rx='6' ry='6' style='stroke: #7F7F7F; stroke-width: 1.0;'/><polygon fill='#FEFECE' filter='url(#f1x2qr55ru4ncn)' points='268.5,84,385.5,84,397.5,96,385.5,108,268.5,108,256.5,96,268.5,84' style='stroke: #A80036; stroke-width: 1.5;'/><text fill='black' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='117' x='268.5' y='99.8081'>判断支付金额是否大于0</text><text fill='black' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='11' x='245.5' y='93.4058'>否</text><text fill='black' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='11' x='397.5' y='93.4058'>是</text><rect fill='#FEFECE' filter='url(#f1x2qr55ru4ncn)' height='33.9688' rx='12.5' ry='12.5' style='stroke: #A80036; stroke-width: 1.5;' width='124' x='147' y='118'/><text fill='black' font-family='sans-serif' font-size='12' lengthAdjust='spacingAndGlyphs' textLength='104' x='157' y='139.1387'>支付金额不能小于0</text><ellipse cx='209' cy='197.9688' fill='white' filter='url(#f1x2qr55ru4ncn)' rx='11' ry='11' style='stroke: black; stroke-width: 1.0;'/><ellipse cx='209' cy='197.9688' fill='black' rx='6' ry='6' style='stroke: #7F7F7F; stroke-width: 1.0;'/><rect fill='#FEFECE' filter='url(#f1x2qr55ru4ncn)' height='33.9688' rx='12.5' ry='12.5' style='stroke: #A80036; stroke-width: 1.5;' width='140' x='375' y='118'/><text fill='black' font-family='sans-serif' font-size='12' lengthAdjust='spacingAndGlyphs' textLength='120' x='385' y='139.1387'>初始化并插入流水记录</text><rect fill='#FEFECE' filter='url(#f1x2qr55ru4ncn)' height='33.9688' rx='12.5' ry='12.5' style='stroke: #A80036; stroke-width: 1.5;' width='176' x='357' y='186.9688'/><text fill='black' font-family='sans-serif' font-size='12' lengthAdjust='spacingAndGlyphs' textLength='156' x='367' y='208.1074'>根据订单号查询对应订单信息</text><polygon fill='#FEFECE' filter='url(#f1x2qr55ru4ncn)' points='401,240.9375,489,240.9375,501,252.9375,489,264.9375,401,264.9375,389,252.9375,401,240.9375' style='stroke: #A80036; stroke-width: 1.5;'/><text fill='black' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='88' x='401' y='256.7456'>判断订单是否存在</text><text fill='black' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='11' x='378' y='250.3433'>否</text><text fill='black' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='11' x='501' y='250.3433'>是</text><rect fill='#FEFECE' filter='url(#f1x2qr55ru4ncn)' height='33.9688' rx='12.5' ry='12.5' style='stroke: #A80036; stroke-width: 1.5;' width='80' x='301' y='274.9375'/><text fill='black' font-family='sans-serif' font-size='12' lengthAdjust='spacingAndGlyphs' textLength='60' x='311' y='296.0762'>订单不存在</text><ellipse cx='341' cy='339.9063' fill='white' filter='url(#f1x2qr55ru4ncn)' rx='11' ry='11' style='stroke: black; stroke-width: 1.0;'/><ellipse cx='341' cy='339.9063' fill='black' rx='6' ry='6' style='stroke: #7F7F7F; stroke-width: 1.0;'/><rect fill='#FEFECE' filter='url(#f1x2qr55ru4ncn)' height='33.9688' rx='12.5' ry='12.5' style='stroke: #A80036; stroke-width: 1.5;' width='128' x='485' y='274.9375'/><text fill='black' font-family='sans-serif' font-size='12' lengthAdjust='spacingAndGlyphs' textLength='108' x='495' y='296.0762'>调用支付宝支付接口</text><polygon fill='#FEFECE' filter='url(#f1x2qr55ru4ncn)' points='505,328.9063,593,328.9063,605,340.9063,593,352.9063,505,352.9063,493,340.9063,505,328.9063' style='stroke: #A80036; stroke-width: 1.5;'/><text fill='black' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='88' x='505' y='344.7144'>判断是否支付成功</text><text fill='black' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='11' x='482' y='338.312'>否</text><text fill='black' font-family='sans-serif' font-size='11' lengthAdjust='spacingAndGlyphs' textLength='11' x='605' y='338.312'>是</text><rect fill='#FEFECE' filter='url(#f1x2qr55ru4ncn)' height='33.9688' rx='12.5' ry='12.5' style='stroke: #A80036; stroke-width: 1.5;' width='68' x='411' y='362.9063'/><text fill='black' font-family='sans-serif' font-size='12' lengthAdjust='spacingAndGlyphs' textLength='48' x='421' y='384.0449'>支付失败</text><ellipse cx='445' cy='427.875' fill='white' filter='url(#f1x2qr55ru4ncn)' rx='11' ry='11' style='stroke: black; stroke-width: 1.0;'/><ellipse cx='445' cy='427.875' fill='black' rx='6' ry='6' style='stroke: #7F7F7F; stroke-width: 1.0;'/><rect fill='#FEFECE' filter='url(#f1x2qr55ru4ncn)' height='33.9688' rx='12.5' ry='12.5' style='stroke: #A80036; stroke-width: 1.5;' width='68' x='619' y='362.9063'/><text fill='black' font-family='sans-serif' font-size='12' lengthAdjust='spacingAndGlyphs' textLength='48' x='629' y='384.0449'>支付成功</text><rect fill='#FEFECE' filter='url(#f1x2qr55ru4ncn)' height='33.9688' rx='12.5' ry='12.5' style='stroke: #A80036; stroke-width: 1.5;' width='308' x='499' y='416.875'/><text fill='black' font-family='sans-serif' font-size='12' lengthAdjust='spacingAndGlyphs' textLength='288' x='509' y='438.0137'>更新支付流水记录，将支付宝支付中心订单号更新进去</text><ellipse cx='653' cy='481.8438' fill='white' filter='url(#f1x2qr55ru4ncn)' rx='11' ry='11' style='stroke: black; stroke-width: 1.0;'/><ellipse cx='653' cy='481.8438' fill='black' rx='6' ry='6' style='stroke: #7F7F7F; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='63.5' x2='63.5' y1='117.9688' y2='152.9688'/><polygon fill='#A80036' points='59.5,142.9688,63.5,152.9688,67.5,142.9688,63.5,146.9688' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='209' x2='209' y1='151.9688' y2='186.9688'/><polygon fill='#A80036' points='205,176.9688,209,186.9688,213,176.9688,209,180.9688' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='445' x2='445' y1='151.9688' y2='186.9688'/><polygon fill='#A80036' points='441,176.9688,445,186.9688,449,176.9688,445,180.9688' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='341' x2='341' y1='308.9063' y2='328.9063'/><polygon fill='#A80036' points='337,318.9063,341,328.9063,345,318.9063,341,322.9063' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='445' x2='445' y1='396.875' y2='416.875'/><polygon fill='#A80036' points='441,406.875,445,416.875,449,406.875,445,410.875' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='653' x2='653' y1='396.875' y2='416.875'/><polygon fill='#A80036' points='649,406.875,653,416.875,657,406.875,653,410.875' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='653' x2='653' y1='450.8438' y2='470.8438'/><polygon fill='#A80036' points='649,460.8438,653,470.8438,657,460.8438,653,464.8438' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='493' x2='445' y1='340.9063' y2='340.9063'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='445' x2='445' y1='340.9063' y2='362.9063'/><polygon fill='#A80036' points='441,352.9063,445,362.9063,449,352.9063,445,356.9063' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='605' x2='653' y1='340.9063' y2='340.9063'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='653' x2='653' y1='340.9063' y2='362.9063'/><polygon fill='#A80036' points='649,352.9063,653,362.9063,657,352.9063,653,356.9063' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='549' x2='549' y1='308.9063' y2='328.9063'/><polygon fill='#A80036' points='545,318.9063,549,328.9063,553,318.9063,549,322.9063' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='389' x2='341' y1='252.9375' y2='252.9375'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='341' x2='341' y1='252.9375' y2='274.9375'/><polygon fill='#A80036' points='337,264.9375,341,274.9375,345,264.9375,341,268.9375' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='501' x2='549' y1='252.9375' y2='252.9375'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='549' x2='549' y1='252.9375' y2='274.9375'/><polygon fill='#A80036' points='545,264.9375,549,274.9375,553,264.9375,549,268.9375' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='445' x2='445' y1='220.9375' y2='240.9375'/><polygon fill='#A80036' points='441,230.9375,445,240.9375,449,230.9375,445,234.9375' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='256.5' x2='209' y1='96' y2='96'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='209' x2='209' y1='96' y2='118'/><polygon fill='#A80036' points='205,108,209,118,213,108,209,112' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='397.5' x2='445' y1='96' y2='96'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='445' x2='445' y1='96' y2='118'/><polygon fill='#A80036' points='441,108,445,118,449,108,445,112' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='132.25' x2='63.5' y1='62' y2='62'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='63.5' x2='63.5' y1='62' y2='84'/><polygon fill='#A80036' points='59.5,74,63.5,84,67.5,74,63.5,78' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='258.25' x2='327' y1='62' y2='62'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='327' x2='327' y1='62' y2='84'/><polygon fill='#A80036' points='323,74,327,84,331,74,327,78' style='stroke: #A80036; stroke-width: 1.0;'/><line style='stroke: #A80036; stroke-width: 1.5;' x1='195.25' x2='195.25' y1='30' y2='50'/><polygon fill='#A80036' points='191.25,40,195.25,50,199.25,40,195.25,44' style='stroke: #A80036; stroke-width: 1.0;'/></g></svg>